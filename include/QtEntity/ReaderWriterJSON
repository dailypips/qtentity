#pragma once

#include <QtEntity/DataTypes>
#include <QtEntity/Export>
#include <QJsonObject>
#include <QObject>

namespace qte
{
    class EntityManager;

    class QTENTITY_EXPORT ReaderWriterJSON
    {
    public:

        /**
         * @brief componentToJson returns a Json object from QObject.
         * Adds an entry classname.
         * @return
         */
        static QJsonObject componentToJson(const QObject&);
        static QJsonValue variantToJson(const QVariant&);

        static bool jsonToComponent(EntityManager& em, EntityId id, const QJsonObject& json);
    };

}
